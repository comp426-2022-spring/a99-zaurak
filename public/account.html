<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/styles">
        <title>Account Page</title>
        <style>
        h1 {
            background-size: 100%;
            padding-bottom: 7rem;
            color: black;
            font-size: 50px;
            text-align: center;
        }
        /* body {
            background-color: grey;
        } */
        .grid-container {
            display: inline-grid;
            column-gap: 100px;
            row-gap:50px;
        }
        .profile {
            margin: 100px;
            width: 70%;
            background-color: white;
            height: 93vh;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5rem;
        }
        
        .grid1 {
            grid-row-start: 1;
            grid-row-end: 2;
            grid-column-start: 1;
            grid-column-end: 2;
        }
        .grid2 {
            grid-row-start: 1;
            grid-row-end: 2;
            grid-column-start: 2;
            grid-column-end: 3;
        }
        .grid3 {
            grid-row-start: 2;
            grid-row-end: 3;
            grid-column-start: 1;
            grid-column-end: 2;
        }
        .grid4 {
            grid-row-start: 2;
            grid-row-end: 3;
            grid-column-start: 2;
            grid-column-end: 3;
        }
        .update {
            grid-row-start: 1;
            grid-row-end: 2;
            grid-column-start: 3;
            grid-column-end: 4;
            /* align-items: center;
            justify-content: center; */
        }
        .delete {
            grid-row-start: 2;
            grid-row-end: 3;
            grid-column-start: 3;
            grid-column-end: 4;
        }
        #updatebtn {
            background-color: green;
            color: white;
            padding: 15px 32px;
        }
        #deletebtn {
            background-color: red;
            color: white;
            padding: 15px 32px;
        }
        /* .grid1, .grid2, .grid3, .grid4 {
            height: 48px;
        } */ 
        #passw, #uname, #email {
            height: 60px;
        }
        input[type="text"] {
            border: 3px solid #f8826d;
            font-size: 20px;
        }
        label {
            font-size: large;
            font-weight: bold;
        }
        </style>
    </head>
    <body>
        <div class="wrapper">
        <div class="bg">
            <nav class='navbar'>
                <svg id='covid' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 234.39 232.95"><defs><style>.cls-1{fill:#f8826d;}.cls-1,.cls-2,.cls-3,.cls-4{stroke:#30302d;stroke-miterlimit:10;stroke-width:3px;}.cls-2{fill:#fff;}.cls-3{fill:#ffc3b8;}.cls-4{fill:none;}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M118.21,40.61c4.66,2.34,9.58,4.73,14.73,4.35,4.82-.37,9.63-3.16,14.26-1.72,7.5,2.33,8.85,13.53,15.42,18,7.6,5.19,20.09,0,25.3,7.86,4.23,6.34-.68,15.18.81,22.77,1.09,5.5,5.37,9.6,7.62,14.68,3.33,7.52-5.69,18-7.17,26.18-1.67,9.21,2,16.56,2.6,25.89.62,9.75-3.06,15.28-8.78,19.56-10.46,7.82-27.24-1.71-36.92,7.17-3.22,2.95-5.06,7.58-8.88,9.57-2.77,1.45-6.4,2.39-9.11.9-20.68-11.37-27.5-2.59-41.24-3.88-6.28-.59-13-1.35-17.85-5.57-4.58-4-6.77-10.32-11.15-14.53S47,165.92,42.62,161.53c-5.66-5.64-.89-18.18-1.83-26.34-1.16-10-8.35-16.24-9.51-26.21-.82-7.12-1.18-15.57,4.08-20.11,4.35-3.76,10.91-3.18,15.57-6.51,6.92-4.94,6.61-15.5,8.58-24.08A36.65,36.65,0,0,1,82,32.76C96.21,27.42,105.36,34.16,118.21,40.61Z"/><path class="cls-1" d="M106.05,45.67l19.89-35.21a1.08,1.08,0,0,1,2,.57l-1.19,40.59"/><circle class="cls-2" cx="126.9" cy="9.39" r="7.89"/><path class="cls-1" d="M46.18,108.69,14.57,83.48a1.08,1.08,0,0,1,.87-1.9l39.89,7.61"/><circle class="cls-2" cx="11.93" cy="81.02" r="7.5"/><path class="cls-1" d="M144.72,177l-.2,40.29a1.07,1.07,0,0,1-2,.49l-18.69-35.89"/><circle class="cls-3" cx="144.22" cy="220.88" r="10.57"/><path class="cls-1" d="M60.81,166.36,24.7,186.69a1.1,1.1,0,0,1-1.47-1.56l22.57-35"/><circle class="cls-3" cx="21.35" cy="188.25" r="10.88"/><path class="cls-1" d="M91,188.31l-15.2,22.51a.72.72,0,0,1-1.32-.48l3-27.12"/><circle class="cls-3" cx="74.32" cy="212.72" r="4.74"/><path class="cls-1" d="M181.68,137.83l34.77,16.52a1,1,0,0,1-.39,2l-38.63,1.6"/><circle class="cls-2" cx="219.43" cy="156.06" r="10.1"/><path class="cls-1" d="M178.92,88.71l39.77-7.32a1.07,1.07,0,0,1,.86,1.9l-31.91,25.12"/><circle class="cls-3" cx="222.28" cy="81.02" r="10.61"/><path class="cls-1" d="M77.43,118.85,81,78.57A1.07,1.07,0,0,1,83,78.25l15.73,37.44"/><circle class="cls-3" cx="81.54" cy="75.01" r="10.61"/><path class="cls-1" d="M132.79,116.15,150.61,86a.93.93,0,0,1,1.73.52l-1.72,35.13"/><circle class="cls-2" cx="152.4" cy="83.44" r="9.19"/><path class="cls-1" d="M128.8,142.81l-26.65,20.85a.9.9,0,0,1-1.38-1.08l13.93-31"/><circle class="cls-2" cx="99.63" cy="165.33" r="8.88"/><path class="cls-1" d="M68.11,52.13,57.52,27a.72.72,0,0,1,1.13-.84L79.8,43.53"/><circle class="cls-3" cx="56.75" cy="24.72" r="6.65"/><path class="cls-4" d="M114.49,85.44l7.12-15.86c.2-.44,1-.44,1.07,0l2.8,15.92"/><path class="cls-4" d="M151.13,148.15l5.53,17.18c.16.48-.45,1-.82.75l-13.21-10.34"/><path class="cls-4" d="M82,145.55l-18,1.87c-.5.05-.91-.66-.56-1l12.84-10.8"/><line class="cls-4" x1="84.84" y1="17.33" x2="79.8" y2="1.45"/><line class="cls-4" x1="41.38" y1="57.17" x2="28.11" y2="47.08"/><line class="cls-4" x1="14.45" y1="109.73" x2="0.05" y2="109.21"/><line class="cls-4" x1="26.36" y1="139.7" x2="12.49" y2="143.54"/><line class="cls-4" x1="51.51" y1="192.02" x2="44.02" y2="201.15"/><line class="cls-4" x1="109.35" y1="205.72" x2="108.12" y2="222.35"/><line class="cls-4" x1="173.21" y1="214.04" x2="165.98" y2="201.98"/><line class="cls-4" x1="200.72" y1="189.96" x2="193.45" y2="183.54"/><line class="cls-4" x1="224.42" y1="126.52" x2="207.84" y2="124.69"/><line class="cls-4" x1="223.43" y1="53.36" x2="208.83" y2="61.41"/><line class="cls-4" x1="188.61" y1="36.16" x2="175.56" y2="49.88"/><line class="cls-4" x1="163.59" y1="12.17" x2="156.84" y2="26.02"/></g></g></svg>
                <ul class='nav-items'>
                    <li class='nav-item not-active' id='Global'><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>world</title><g fill="#000000"><path d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,22a9.965,9.965,0,0,1-7.132-3l1.455-1.222a1,1,0,0,0,.318-1.04l-.7-2.472a1.015,1.015,0,0,0-.231-.409L4.474,12.536l-.187-.319.64-.547,2.487-1.258a1,1,0,0,0,.538-.746l.4-2.74A1,1,0,0,0,8.1,6.1L6.451,4.34a.877.877,0,0,0-.094-.089L6.039,3.99a9.929,9.929,0,0,1,5.54-1.969l.448.745.586,1.713a1.012,1.012,0,0,0,.319.455l2.284,1.837a1,1,0,0,0,.627.221.934.934,0,0,0,.118-.007l3-.356a1.011,1.011,0,0,0,.375-.123l.718-.408A9.981,9.981,0,0,1,12,22Z" fill="#000000"></path><path d="M19.894,12.441l-1.135-2.178a1,1,0,0,0-.655-.511l-2.357-.564a.994.994,0,0,0-.564.03L12.956,10a1,1,0,0,0-.451.319l-1.338,1.973a1.25,1.25,0,0,0-.073.927l.812,2.062L11.406,17a.985.985,0,0,0,.188.844l.657,1.735a1,1,0,0,0,.772.364l.064,0,2.339-.15a1,1,0,0,0,.618-.267l1.762-1.641a1,1,0,0,0,.233-.325l1.882-4.25A1,1,0,0,0,19.894,12.441Z"></path></g></svg></li>
                    <li class='nav-item not-active' id='US'><svg width="24" height="24" version="1.1" viewBox="0 0 700 700" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="m334.4 480.53-26.227-2.1445-7.9609-21.754-17.625-28.52h-14.598l-9.6602 12.371-18.555-12.371-2.1328-12.176-18.43-15.297h-19.844v7.5312h-36.855l-41.008-16.324v-5.7578h-30.562l-9.0547-16.523-19.184-4.2148-15.586-6.1289v-12.488l-13.539-11.668v-13.562l-5.7422-13.418-10.82-4.0742-17.016-35.008 7.1211-8.7695v-15.609l-7.1211-11.066 7.1211-33.383v-26.527l-7.1211-28.723v-12.867l17.016 3.6484v-14.277h337.73l3.3438-8.793 4.8477 3.8203 3.2031 11.422h18.254l4.6445 7.8281h6.7188l6.1211 3.1211 7.2148-3.1211 14.641 3.1211h22.668l34.754 21.75 6.9766 8.4531 12.758 11.684 9.2344 7.2227 5.8906 27.359-5.8906 15.074-5.0547 8.6523v7.7461l10.945-2.1445 36.867-11.066v-13.969l27.293-4.293 18.082-19.086 45.852-2.1445v-6.1289l11.906-2.9023 15.914-34.18 5.5469 3.2539h9.293l5.168 26.605 8.0586 19.461-43.98 23.352-3.6289 27.738-17.766 5.2656-20.301 7.4922v14.426l-6.2188 14.035-9.8438 11.527-14.246 4.0742 8.1992 22.625v16.023l-15.273 9.3828-9.3984 9.2344-17.656 12.965-17.691 13.531-5.8477 24.09 5.8477 31.934 9.0078 18.086v22.184l-11.148 4.2852-22.062-28.613v-23.328l-11.797-17.621-15.035 5.25-22.125-12.176-35.297 6.9258v8.1172l-14.641 9.5039-13.336-12.371-34.957 5.0117-26.406 23.508-5.1602 15.75z" fill-rule="evenodd"/></g></svg></li>
                    <li class='nav-item not-active' id='NC'><img class='menu-svg' style='width: 24px;'src="https://img.icons8.com/ios-filled/50/000000/north-carolina.png"/></li>
                </ul>

                <ul class='user-items'>
                    <li class='nav-item active' id='account'><svg id='user' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>person</title><g fill="none"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#000000"></path></g></svg></li>
                    <li class='nav-item not-active' id='logout'><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>exit_to_app</title><g fill="none"><path d="M13.91 15.59l-1.41 1.41-5-5 5-5 1.41 1.41-2.58 2.59h9.67v2h-9.67l2.58 2.59z m-8.91-12.59h14a2 2 0 0 1 2 2v4h-2v-4h-14v14h14v-4h2v4a2 2 0 0 1-2 2h-14c-1.1 0-2-0.9-2-2v-14c0-1.1 0.9-2 2-2z" fill="#000000"></path></g></svg></li>
                </ul>
            </nav>
        <div class="profile">
            <h1 id="accountheader">Account Information</h1>
            <div class="grid-container">
                <div class="grid1">
                    <label for="uname">Username:</label><br>
                    <input type="text" id="uname" name="uname" placeholder="">
                </div>
                <div class="grid2">
                    <label>Password:</label><br>
                    <input type="text" id="passw" name="passw" placeholder="">
                </div>
                <div class="grid3">
                    <label>Email:</label><br>
                    <input type="text" id="email" name="email" placeholder="">
                </div>
                <div class="update">
                    <Button id="updatebtn" onclick="update()">Update</Button>
                </div>
                <div class="delete">
                    <Button id="deletebtn">Delete</Button>
                </div>
            </div>
        </div>
        </div>
        </div>
    </body>
    <script>
        function update() {
            document.getElementsByName("fname")[0].placeholder=document.getElementById('fname').value;
            document.getElementsByName("lname")[0].placeholder=document.getElementById('lname').value;
            document.getElementsByName("uname")[0].placeholder=document.getElementById('uname').value;
            document.getElementsByName("email")[0].placeholder=document.getElementById('email').value;
            // change in database?
        }
        const handleelementclicked = (elem) => {
            if (elem.id == 'logout') {
                handlelogout()
            }
            else if (elem.id == 'account') {
                goToAccount()
            }
            else if (elem.className == 'nav-item not-active') {
                const currActive = document.getElementsByClassName('nav-item active')[0]
                currActive.className = 'nav-item not-active'
                elem.className = 'nav-item active'
                goToDashboard()
            }
            
        }

        const handlemenuchange = (e) => {
            handleelementclicked(e.target)
        }

        const handlesvgclick = (e) => {
            handleelementclicked(e.currentTarget.parentNode)
        }

        const svgs = document.getElementsByClassName('menu-svg');
        const svg_arry = [...svgs]
        svg_arry.forEach(elem => elem.addEventListener('click', handlesvgclick))
        const all = document.getElementsByClassName('nav-item');
        const arry = [...all]
        arry.forEach(elem => elem.addEventListener("click", handlemenuchange))

        function goToAccount() {
            fetch("/app/account", {
                method: 'GET',
                redirect: 'follow'
            }).then(res => {
                console.log(res)
                    window.location.href = res.url;
            }).catch(err => console.log(err))
        
        }
        const handlelogout = () => {
            fetch("/user/sign-out", {
                method: 'GET',
                headers: {
                    'Content-Type': 'application/json', 
                },
                redirect: 'follow',
            }).then(res => {
                console.log(res)
                if (res.redirected) {
                window.location.href = res.url; 
            }
            }).catch(err => console.log(err))
        }

        function goToDashboard() {
            fetch("/app/dashboard", {
                method: 'GET',
                redirect: 'follow'
            }).then(res => {
                console.log(res)
                    window.location.href = res.url;
            }).catch(err => console.log(err))
        
        }
    </script>
</html>