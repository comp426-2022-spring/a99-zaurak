<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
</head>
<body>
    <div class="wrapper">
        <div class='bg'>
            <nav class='navbar'>
                <svg id='covid' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 234.39 232.95"><defs><style>.cls-1{fill:#f8826d;}.cls-1,.cls-2,.cls-3,.cls-4{stroke:#30302d;stroke-miterlimit:10;stroke-width:3px;}.cls-2{fill:#fff;}.cls-3{fill:#ffc3b8;}.cls-4{fill:none;}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M118.21,40.61c4.66,2.34,9.58,4.73,14.73,4.35,4.82-.37,9.63-3.16,14.26-1.72,7.5,2.33,8.85,13.53,15.42,18,7.6,5.19,20.09,0,25.3,7.86,4.23,6.34-.68,15.18.81,22.77,1.09,5.5,5.37,9.6,7.62,14.68,3.33,7.52-5.69,18-7.17,26.18-1.67,9.21,2,16.56,2.6,25.89.62,9.75-3.06,15.28-8.78,19.56-10.46,7.82-27.24-1.71-36.92,7.17-3.22,2.95-5.06,7.58-8.88,9.57-2.77,1.45-6.4,2.39-9.11.9-20.68-11.37-27.5-2.59-41.24-3.88-6.28-.59-13-1.35-17.85-5.57-4.58-4-6.77-10.32-11.15-14.53S47,165.92,42.62,161.53c-5.66-5.64-.89-18.18-1.83-26.34-1.16-10-8.35-16.24-9.51-26.21-.82-7.12-1.18-15.57,4.08-20.11,4.35-3.76,10.91-3.18,15.57-6.51,6.92-4.94,6.61-15.5,8.58-24.08A36.65,36.65,0,0,1,82,32.76C96.21,27.42,105.36,34.16,118.21,40.61Z"/><path class="cls-1" d="M106.05,45.67l19.89-35.21a1.08,1.08,0,0,1,2,.57l-1.19,40.59"/><circle class="cls-2" cx="126.9" cy="9.39" r="7.89"/><path class="cls-1" d="M46.18,108.69,14.57,83.48a1.08,1.08,0,0,1,.87-1.9l39.89,7.61"/><circle class="cls-2" cx="11.93" cy="81.02" r="7.5"/><path class="cls-1" d="M144.72,177l-.2,40.29a1.07,1.07,0,0,1-2,.49l-18.69-35.89"/><circle class="cls-3" cx="144.22" cy="220.88" r="10.57"/><path class="cls-1" d="M60.81,166.36,24.7,186.69a1.1,1.1,0,0,1-1.47-1.56l22.57-35"/><circle class="cls-3" cx="21.35" cy="188.25" r="10.88"/><path class="cls-1" d="M91,188.31l-15.2,22.51a.72.72,0,0,1-1.32-.48l3-27.12"/><circle class="cls-3" cx="74.32" cy="212.72" r="4.74"/><path class="cls-1" d="M181.68,137.83l34.77,16.52a1,1,0,0,1-.39,2l-38.63,1.6"/><circle class="cls-2" cx="219.43" cy="156.06" r="10.1"/><path class="cls-1" d="M178.92,88.71l39.77-7.32a1.07,1.07,0,0,1,.86,1.9l-31.91,25.12"/><circle class="cls-3" cx="222.28" cy="81.02" r="10.61"/><path class="cls-1" d="M77.43,118.85,81,78.57A1.07,1.07,0,0,1,83,78.25l15.73,37.44"/><circle class="cls-3" cx="81.54" cy="75.01" r="10.61"/><path class="cls-1" d="M132.79,116.15,150.61,86a.93.93,0,0,1,1.73.52l-1.72,35.13"/><circle class="cls-2" cx="152.4" cy="83.44" r="9.19"/><path class="cls-1" d="M128.8,142.81l-26.65,20.85a.9.9,0,0,1-1.38-1.08l13.93-31"/><circle class="cls-2" cx="99.63" cy="165.33" r="8.88"/><path class="cls-1" d="M68.11,52.13,57.52,27a.72.72,0,0,1,1.13-.84L79.8,43.53"/><circle class="cls-3" cx="56.75" cy="24.72" r="6.65"/><path class="cls-4" d="M114.49,85.44l7.12-15.86c.2-.44,1-.44,1.07,0l2.8,15.92"/><path class="cls-4" d="M151.13,148.15l5.53,17.18c.16.48-.45,1-.82.75l-13.21-10.34"/><path class="cls-4" d="M82,145.55l-18,1.87c-.5.05-.91-.66-.56-1l12.84-10.8"/><line class="cls-4" x1="84.84" y1="17.33" x2="79.8" y2="1.45"/><line class="cls-4" x1="41.38" y1="57.17" x2="28.11" y2="47.08"/><line class="cls-4" x1="14.45" y1="109.73" x2="0.05" y2="109.21"/><line class="cls-4" x1="26.36" y1="139.7" x2="12.49" y2="143.54"/><line class="cls-4" x1="51.51" y1="192.02" x2="44.02" y2="201.15"/><line class="cls-4" x1="109.35" y1="205.72" x2="108.12" y2="222.35"/><line class="cls-4" x1="173.21" y1="214.04" x2="165.98" y2="201.98"/><line class="cls-4" x1="200.72" y1="189.96" x2="193.45" y2="183.54"/><line class="cls-4" x1="224.42" y1="126.52" x2="207.84" y2="124.69"/><line class="cls-4" x1="223.43" y1="53.36" x2="208.83" y2="61.41"/><line class="cls-4" x1="188.61" y1="36.16" x2="175.56" y2="49.88"/><line class="cls-4" x1="163.59" y1="12.17" x2="156.84" y2="26.02"/></g></g></svg>
                <ul class='nav-items'>
                    <li class='nav-item active' id='global'><svg class='menu-svg' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>world</title><g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" fill="none" stroke="#000000" stroke-miterlimit="10"><polyline points="5.11 3.425 6.722 4.75 8.367 6.506 7.963 9.246 5.369 10.558 4 11.726 4.667 12.864 5.974 14.264 6.68 16.737 4.717 18.384 4.358 19.912" stroke-linecap="butt" stroke="#000000"></polyline><polyline points="20.32 4.805 18.843 5.643 15.843 6 13.559 4.162 12.939 2.349 12.127 1" stroke-linecap="butt" stroke="#000000"></polyline><polygon points="19.007 12.903 18.079 15.001 17.125 17.152 15.362 18.793 13.023 18.943 11.629 17.253 12.097 15.083 11.694 12.94 13.287 10.943 15.514 10.161 17.872 10.725 19.007 12.903" stroke="#000000"></polygon><circle cx="12" cy="12" r="11"></circle></g></svg></li>
                    <li class='nav-item not-active' id='home'><svg class='menu-svg' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>home-3</title><g stroke-linecap="square" stroke-linejoin="miter" stroke-width="2" fill="none" stroke="#000000" stroke-miterlimit="10"><polyline points="10 23 10 17 14 17 14 23" stroke-linecap="butt"></polyline> <polyline points="1 11 12 2 23 11" stroke="#000000" stroke-linecap="butt"></polyline> <line x1="4" y1="8.545" x2="4" y2="4" stroke="#000000" stroke-linecap="butt"></line> <polyline points="4 13 4 23 20 23 20 13"></polyline> <rect x="11" y="11" width="2" height="2" fill="#000000" stroke="none"></rect> <rect x="11" y="11" width="2" height="2"></rect></g></svg></li>
                    <li class='nav-item not-active' id='map'><svg class='menu-svg' xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>map</title><g fill="none"><path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z" fill="#000000"></path></g></svg></li>
                </ul>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><title>person</title><g fill="none"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#000000"></path></g></svg>
            </nav>
            <section class='data' id='data'>
                <h1 id='name'>Global</h1>
                <canvas></canvas>
            </section>
        </div>
    </div>
    <script>
        window.onload = () => {
            makeChart('global')
        }

        const makeChart = (id) => {
            data_hash = {
                global: [30, 19, 3, 5, 2, 3], 
                home: [10, 19, 3, 5, 2, 3], 
                map: [5, 19, 3, 5, 2, 3], 
            }
            const current_ctx = document.getElementsByTagName('canvas')[0];
            console.log(current_ctx); 
            current_ctx.remove();
            document.getElementById('name').innerHTML = id; 
            const ctx = document.createElement('canvas'); 
            const data_section = document.getElementById('data');
            data_section.appendChild(ctx)
            const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['04/01/2022', '04/02/2022', '04/03/2022', '04/04/2022', '04/05/2022', '04/06/2022'],
                datasets: [{
                    label: '# of New Cases',
                    data: data_hash[id],
                    backgroundColor: [
                    'rgba(255, 159, 64, 0.2)',
                    ],
                    borderColor: [
                    'rgba(255, 159, 64, 1)',
                    ],
                    borderWidth: 1
                },
                {
                    label: '# Of Deaths',
                    data: data_hash[id],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
        }
        const handleelementclicked = (elem) => {
            if (elem.className == 'nav-item not-active') {
                const currActive = document.getElementsByClassName('nav-item active')[0]
                currActive.className = 'nav-item not-active'
                elem.className = 'nav-item active'
                makeChart(elem.id)
                console.log(elem.id)
            }
        }

        const handlemenuchange = (e) => {
            handleelementclicked(e.target)
        }

        const handlesvgclick = (e) => {
            handleelementclicked(e.currentTarget.parentNode)
        }

        const svgs = document.getElementsByClassName('menu-svg');
        const svg_arry = [...svgs]
        svg_arry.forEach(elem => elem.addEventListener('click', handlesvgclick))
        const all = document.getElementsByClassName('nav-item');
        const arry = [...all]
        arry.forEach(elem => elem.addEventListener("click", handlemenuchange))
    </script>
</body>
</html>